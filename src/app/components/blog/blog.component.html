<section 
  id="blog" 
  #blogSection
  class="section-padding bg-white dark:bg-neutral-900"
  [attr.aria-labelledby]="'blog-title'"
>
  <div class="container-max-width">
    <div class="max-w-6xl mx-auto">
      <!-- Section Header -->
      <div class="text-center mb-16 animate-on-scroll">
        <h2 id="blog-title" class="text-3xl md:text-4xl lg:text-5xl font-display font-bold text-neutral-900 dark:text-neutral-100 mb-6">
          Latest Articles
        </h2>
        <p class="text-lg md:text-xl text-neutral-600 dark:text-neutral-400 max-w-3xl mx-auto leading-relaxed">
          Sharing insights on modern development practices, architecture patterns, and technology trends
        </p>
      </div>

      <!-- Blog Posts Grid -->
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
        <article 
          *ngFor="let post of blogPosts; trackBy: trackByPost; index as i"
          class="group animate-on-scroll"
          [style.animation-delay]="(i * 0.1) + 's'"
        >
          <div class="glass-card rounded-3xl p-8 shadow-glass-lg hover:shadow-glass-lg transition-all duration-300 transform hover:scale-105 h-full flex flex-col">
            <!-- Featured Badge -->
            <div *ngIf="post.featured" class="mb-4">
              <span class="inline-flex items-center px-3 py-1 bg-accent-500 text-white text-xs font-semibold rounded-full">
                Featured
              </span>
            </div>

            <!-- Post Header -->
            <div class="mb-6">
              <h3 class="text-xl font-display font-bold text-neutral-900 dark:text-neutral-100 mb-3 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors line-clamp-2">
                {{ post.title }}
              </h3>
              
              <div class="flex items-center gap-4 text-sm text-neutral-600 dark:text-neutral-400 mb-4">
                <div class="flex items-center gap-1">
                  <lucide-icon [img]="calendarIcon" class="w-4 h-4"></lucide-icon>
                  {{ formatDate(post.publishedDate) }}
                </div>
                <div class="flex items-center gap-1">
                  <lucide-icon [img]="clockIcon" class="w-4 h-4"></lucide-icon>
                  {{ post.readTime }} min read
                </div>
              </div>
              
              <p class="text-neutral-600 dark:text-neutral-400 leading-relaxed line-clamp-3">
                {{ post.excerpt }}
              </p>
            </div>

            <!-- Tags -->
            <div class="mb-6 flex-1">
              <div class="flex flex-wrap gap-2">
                <span 
                  *ngFor="let tag of post.tags.slice(0, 3)"
                  class="inline-flex items-center gap-1 px-2 py-1 bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 text-xs rounded-lg"
                >
                  <lucide-icon [img]="hashIcon" class="w-3 h-3"></lucide-icon>
                  {{ tag }}
                </span>
                <span 
                  *ngIf="post.tags.length > 3"
                  class="px-2 py-1 bg-neutral-200 dark:bg-neutral-600 text-neutral-600 dark:text-neutral-400 text-xs rounded-lg"
                >
                  +{{ post.tags.length - 3 }}
                </span>
              </div>
            </div>

            <!-- Read More Button -->
            <div class="mt-auto">
              <a
                [href]="post.externalUrl || '#'"
                [target]="post.externalUrl ? '_blank' : '_self'"
                [rel]="post.externalUrl ? 'noopener noreferrer' : ''"
                class="inline-flex items-center gap-2 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 rounded-lg p-2 -m-2"
                [attr.aria-label]="'Read article: ' + post.title + (post.externalUrl ? ' (opens in new tab)' : '')"
              >
                Read More
                <lucide-icon [img]="externalLinkIcon" class="w-4 h-4"></lucide-icon>
              </a>
            </div>
          </div>
        </article>
      </div>

      <!-- Blog CTA -->
      <div class="text-center animate-on-scroll" style="animation-delay: 0.4s;">
        <div class="glass-card rounded-3xl p-8 shadow-glass-lg">
          <h3 class="text-2xl font-display font-semibold text-neutral-900 dark:text-neutral-100 mb-4">
            Want to Read More?
          </h3>
          <p class="text-neutral-600 dark:text-neutral-400 mb-6 max-w-2xl mx-auto">
            I regularly write about software architecture, best practices, and emerging technologies. 
            Visit my blog to explore more in-depth articles and tutorials.
          </p>
          <a
            href="http://localhost:4400/"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-3 px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-glow-lg transition-all duration-300 transform hover:scale-105 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-primary-300 dark:focus-visible:ring-primary-700"
          >
            Visit My Blog
            <lucide-icon [img]="externalLinkIcon" class="w-5 h-5"></lucide-icon>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>